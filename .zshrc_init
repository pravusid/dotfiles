# starship
eval "$(starship init zsh)"

# fnm for nodejs
export PATH="$PATH:$HOME/.fnm"
eval "$(fnm env)"

function lazy_loader() {
  export FZF_DEFAULT_COMMAND="fd --type f"
  [ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

  [ -f ~/.config/broot/launcher/bash/br ] && source ~/.config/broot/launcher/bash/br
}

source ~/.zsh-async/async.zsh
async_start_worker zsh_async_worker -n
async_register_callback zsh_async_worker lazy_loader
async_job zsh_async_worker sleep 0
